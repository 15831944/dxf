<?xml version="1.0" encoding="utf-8" ?>
<!-- Copyright (c) IxMilia.  All Rights Reserved.  Licensed under the Apache License, Version 2.0.  See License.txt in the project root for license information. -->
<Spec xmlns="http://IxMilia.com/Dxf/ObjectsSpec">
    <!--

    OBJECT - the abstract base of all of the following types

    -->
    <Object Name="DxfObject" ObjectType="" SubclassMarker="" TypeString="">
        <Property Name="Handle" Code="5" Type="uint" DefaultValue="0u" ReadConverter="UIntHandle" WriteConverter="UIntHandle" WriteCondition="outputHandles" />
        <Property Name="OwnerHandle" Code="330" Type="uint" DefaultValue="0u" ReadConverter="UIntHandle" WriteConverter="UIntHandle" MinVersion="R2000" />
        <WriteOrder>
            <WriteProperty Property="Handle" />
            <WriteExtensionData />
            <WriteProperty Property="OwnerHandle" />
        </WriteOrder>
    </Object>
    <!--

    ACAD_PROXY_OBJECT

    -->
    <Object Name="DxfAcadProxyObject" ObjectType="AcadProxyObject" SubclassMarker="AcDbProxyObject" TypeString="ACAD_PROXY_OBJECT">
        <Property Name="ProxyObjectClassId" Code="90" Type="int" DefaultValue="499" />
        <Property Name="ApplicationObjectClassId" Code="91" Type="int" DefaultValue="500" />
        <Property Name="SizeInBits" Code="93" Type="int" DefaultValue="0" />
        <Property Name="BinaryObjectData" Code="310" Type="string" DefaultValue="null" AllowMultiples="true" ProtectedSet="true" />
        <Property Name="_objectIdsA" Code="330" Type="string" DefaultValue="null" AllowMultiples="true" Accessibility="private" />
        <Property Name="_objectIdsB" Code="340" Type="string" DefaultValue="null" AllowMultiples="true" Accessibility="private" />
        <Property Name="_objectIdsC" Code="350" Type="string" DefaultValue="null" AllowMultiples="true" Accessibility="private" />
        <Property Name="_objectIdsD" Code="360" Type="string" DefaultValue="null" AllowMultiples="true" Accessibility="private" />
        <!-- a 94/0 code pair is usually read here to indicate the end of the object ids, but the generated reader doesn't depend on this to be present -->
        <Property Name="_objectDrawingFormat" Code="95" Type="uint" DefaultValue="0" ReadConverter="(uint)" WriteConverter="(int)" Accessibility="private" />
        <Property Name="IsOriginalObjectDxfFormat" Code="70" Type="bool" DefaultValue="false" ReadConverter="BoolShort" WriteConverter="BoolShort" />
        <WriteOrder>
            <WriteSpecificValue Code="100" Value="&quot;AcDbProxyObject&quot;" MinVersion="R13" />
            <WriteProperty Property="ProxyObjectClassId" />
            <WriteProperty Property="ApplicationObjectClassId" />
            <WriteProperty Property="SizeInBits" />
            <WriteProperty Property="BinaryObjectData" />
            <Foreach Property="ObjectIds">
                <WriteSpecificValue Code="330" Value="&quot;item&quot;" />
            </Foreach>
            <WriteSpecificValue Code="94" Value="0" />
            <WriteProperty Property="_objectDrawingFormat" />
            <WriteProperty Property="IsOriginalObjectDxfFormat" />
        </WriteOrder>
    </Object>
    <!--

    ACDBDICTIONARYWDFLT

    -->
    <Object Name="DxfAcdbDictionaryWithDefault" ObjectType="AcdbDictionaryWithDefault" SubclassMarker="AcDbDictionaryWithDefault" TypeString="ACDBDICTIONARYWDFLT">
        <Property Name="DuplicateRecordHandling" Code="281" Type="DxfDictionaryDuplicateRecordHandling" DefaultValue="DxfDictionaryDuplicateRecordHandling.NotApplicable" ReadConverter="(DxfDictionaryDuplicateRecordHandling)" WriteConverter="(short)" />
        <Property Name="_entryNames" Code="3" Type="string" DefaultValue="null" AllowMultiples="true" Accessibility="private" />
        <Property Name="_entryHandles" Code="350" Type="uint" DefaultValue="null" ReadConverter="UIntHandle" WriteConverter="UIntHandle" AllowMultiples="true" Accessibility="private" />
        <Property Name="DefaultObjectHandle" Code="340" Type="uint" DefaultValue="0u" ReadConverter="UIntHandle" WriteConverter="UIntHandle" />
        <WriteOrder>
            <WriteSpecificValue Code="100" Value="&quot;AcDbDictionary&quot;" />
            <WriteProperty Property="DuplicateRecordHandling" />
            <Foreach Property="_entries">
                <WriteSpecificValue Code="3" Value="item.Key" />
                <WriteSpecificValue Code="350" Value="UIntHandle(item.Value)" />
            </Foreach>
            <WriteSpecificValue Code="100" Value="&quot;AcDbDictionaryWithDefault&quot;" />
            <WriteProperty Property="DefaultObjectHandle" />
        </WriteOrder>
    </Object>
    <!--

    ACDBPLACEHOLDER

    -->
    <Object Name="DxfAcdbPlaceHolder" ObjectType="AcdbPlaceHolder" SubclassMarker="[none]" TypeString="ACDBPLACEHOLDER">
        <!-- this object has no properties and writes nothing, including the 100-code subclass marker -->
        <WriteOrder />
    </Object>
    <!--

    DATATABLE

    -->
    <Object Name="DxfDataTable" ObjectType="DataTable" SubclassMarker="AcDbDataTable" TypeString="DATATABLE" GenerateReaderFunction="false" GenerateWriterFunction="false">
        <Property Name="Field" Code="70" Type="short" DefaultValue="0" />
        <Property Name="ColumnCount" Code="90" Type="int" DefaultValue="0" ProtectedSet="true" />
        <Property Name="RowCount" Code="91" Type="int" DefaultValue="0" ProtectedSet="true" />
        <Property Name="Name" Code="1" Type="string" DefaultValue="null" />
        <Property Name="ColumnNames" Code="2" Type="string" DefaultValue="null" AllowMultiples="true" />
    </Object>
<!--

    DICTIONARY

    -->
    <Object Name="DxfDictionary" ObjectType="AcdbDictionary" SubclassMarker="AcDbDictionary" TypeString="DICTIONARY">
        <Property Name="IsHardOwner" Code="280" Type="bool" DefaultValue="false" ReadConverter="BoolShort" WriteConverter="BoolShort" />
        <Property Name="DuplicateRecordHandling" Code="281" Type="DxfDictionaryDuplicateRecordHandling" DefaultValue="DxfDictionaryDuplicateRecordHandling.NotApplicable" ReadConverter="(DxfDictionaryDuplicateRecordHandling)" WriteConverter="(short)" />
        <Property Name="_entryNames" Code="3" Type="string" DefaultValue="null" AllowMultiples="true" Accessibility="private" />
        <Property Name="_entryHandles" Code="350" Type="uint" DefaultValue="null" ReadConverter="UIntHandle" WriteConverter="UIntHandle" AllowMultiples="true" Accessibility="private" />
        <WriteOrder>
            <WriteSpecificValue Code="100" Value="&quot;AcDbDictionary&quot;" />
            <WriteProperty Property="IsHardOwner" />
            <WriteProperty Property="DuplicateRecordHandling" />
            <Foreach Property="_entries">
                <WriteSpecificValue Code="3" Value="item.Key" />
                <WriteSpecificValue Code="350" Value="UIntHandle(item.Value)" />
            </Foreach>
        </WriteOrder>
    </Object>
    <!--

    DICTIONARYVAR

    -->
    <!-- TODO: skipped due to unsurety of how it works -->
    <!--

    DIMASSOC

    -->
    <Object Name="DxfDimensionAssociativity" ObjectType="DimensionAssociativity" SubclassMarker="AcDbDimAssoc" TypeString="DIMASSOC">
        <Property Name="DimensionHandle" Code="330" Type="uint" DefaultValue="0u" ReadConverter="UIntHandle" WriteConverter="UIntHandle" />
        <Property Name="AssociativityFlags" Code="90" Type="int" DefaultValue="0">
            <Flag Name="IsFirstPointReference" Mask="1" />
            <Flag Name="IsSecondPointReference" Mask="2" />
            <Flag Name="IsThirdPointReference" Mask="4" />
            <Flag Name="IsFourthPointReference" Mask="8" />
        </Property>
        <Property Name="IsTransSpace" Code="70" Type="bool" DefaultValue="true" ReadConverter="BoolShort" WriteConverter="BoolShort" />
        <Property Name="RotatedDimensionType" Code="71" Type="DxfRotatedDimensionType" DefaultValue="DxfRotatedDimensionType.Parallel" ReadConverter="(DxfRotatedDimensionType)" WriteConverter="(short)" />
        <Property Name="ClassName" Code="1" Type="string" DefaultValue="AcDbOsnapPointRef" />
        <Property Name="ObjectOsnapType" Code="72" Type="DxfObjectOsnapType" DefaultValue="DxfObjectOsnapType.None" ReadConverter="(DxfObjectOsnapType)" WriteConverter="(short)" />
        <Property Name="MainObjectHandle" Code="331" Type="uint" DefaultValue="0u" ReadConverter="UIntHandle" WriteConverter="UIntHandle" />
        <Property Name="MainObjectSubentityType" Code="73" Type="DxfSubentityType" DefaultValue="DxfSubentityType.Edge" ReadConverter="(DxfSubentityType)" WriteConverter="(short)" />
        <Property Name="MainObjectGsMarkerIndex" Code="91" Type="int" DefaultValue="0" />
        <Property Name="MainObjectXrefHandle" Code="301" Type="string" DefaultValue="null" />
        <Property Name="NearOsnapGeometryParameter" Code="40" Type="double" DefaultValue="0.0" />
        <Property Name="OsnapPoint" Code="10" Type="DxfPoint" DefaultValue="DxfPoint.Origin" CodeOverrides="10,20,30" />
        <Property Name="IntersectionObjectHandle" Code="332" Type="uint" DefaultValue="0u" ReadConverter="UIntHandle" WriteConverter="UIntHandle" />
        <Property Name="IntersectionSubentityType" Code="74" Type="DxfSubentityType" DefaultValue="DxfSubentityType.Edge" ReadConverter="(DxfSubentityType)" WriteConverter="(short)" />
        <Property Name="IntersectionObjectGsMarkerIndex" Code="92" Type="int" DefaultValue="0" />
        <Property Name="IntersectionObjectXrefHandle" Code="302" Type="string" DefaultValue="null" />
        <Property Name="HasLastPointReference" Code="75" Type="bool" DefaultValue="false" ReadConverter="BoolShort" WriteConverter="BoolShort" />
    </Object>
    <!--

    Field

    -->
    <Object Name="DxfField" ObjectType="Field" SubclassMarker="[none]" TypeString="FIELD">
        <Property Name="EvaluatorId" Code="1" Type="string" DefaultValue="null" />
        <Property Name="FieldCodeString" Code="2" Type="string" DefaultValue="null" />
        <Property Name="FieldCodeStringOverflow" Code="3" Type="string" DefaultValue="null" />
        <Property Name="_childFieldCount" Code="-90" Type="int" DefaultValue="0" Accessibility="private" />
        <Property Name="ChildFieldHandles" Code="360" Type="uint" DefaultValue="null" ReadConverter="UIntHandle" WriteConverter="UIntHandle" AllowMultiples="true" />
        <Property Name="_objectIdCount" Code="97" Type="int" DefaultValue="0" Accessibility="private" />
        <Property Name="ObjectIds" Code="331" Type="uint" DefaultValue="null" ReadConverter="UIntHandle" WriteConverter="UIntHandle" AllowMultiples="true" />
        <Property Name="_dataSetCount" Code="93" Type="int" DefaultValue="0" Accessibility="private" />
        <Property Name="FieldDataKeys" Code="6" Type="string" DefaultValue="null" AllowMultiples="true" />
        <Property Name="EvaluatedCacheKey" Code="7" Type="string" DefaultValue="ACFD_FIELD_VALUE" ProtectedSet="true" />
        <Property Name="_valueTypeCode" Code="-90" Type="int" DefaultValue="0" Accessibility="private" />

        <!-- internal properties -->
        <Property Name="_longValue" Code="91" Type="int" DefaultValue="0" Accessibility="private" />
        <Property Name="_doubleValue" Code="140" Type="double" DefaultValue="0.0" Accessibility="private" />
        <Property Name="_idValue" Code="330" Type="uint" DefaultValue="0u" ReadConverter="UIntHandle" WriteConverter="UIntHandle" Accessibility="private" />
        <Property Name="_binaryDataBufferSize" Code="92" Type="int" DefaultValue="0" Accessibility="private" />
        <Property Name="_binaryData" Code="310" Type="string" DefaultValue="null" Accessibility="private" />

        <Property Name="FormatString" Code="301" Type="string" DefaultValue="null" />
        <Property Name="_formatStringOverflow" Code="9" Type="string" DefaultValue="null" Accessibility="private" />
        <Property Name="_formatStringLength" Code="98" Type="int" DefaultValue="0" Accessibility="private" />
        <Property Name="_childFieldCount_valueTypeCode" Code="90" Type="int" DefaultValue="null" AllowMultiples="true" Accessibility="private" />
        <WriteOrder>
            <WriteProperty Property="EvaluatorId" />
            <WriteProperty Property="FieldCodeString" />
            <WriteProperty Property="FieldCodeStringOverflow" />
            <WriteSpecificValue Code="90" Value="ChildFieldHandles.Count" />
            <WriteProperty Property="ChildFieldHandles" />
            <WriteSpecificValue Code="97" Value="ObjectIds.Count" />
            <WriteProperty Property="ObjectIds" />
            <WriteSpecificValue Code="93" Value="FieldDataKeys.Count" />
            <WriteProperty Property="FieldDataKeys" />
            <WriteProperty Property="EvaluatedCacheKey" />
            <WriteSpecificValue Code="90" Value="_valueTypeCode" />
            <WriteSpecificValue Code="_valueTypeCode" Value="Value" />
            <WriteProperty Property="FormatString" />
            <WriteProperty Property="_formatStringOverflow" />
            <WriteSpecificValue Code="98" Value="FormatString.Length" />
        </WriteOrder>
    </Object>
</Spec>
